<!DOCTYPE html>
<html lang="pt-br">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0"/>
  <title>Galeria de Vídeos</title>
  <script src="https://cdn.tailwindcss.com"></script>
  <!-- Google API JS -->
  <script src="https://apis.google.com/js/api.js"></script>
</head>
<body>
  <div id="root"></div>
  <button onclick="handleSignInClick()">Login com Google</button>
  <button onclick="handleSignOutClick()">Logout</button>
  <button onclick="listarVideos()">Listar Vídeos</button>
  <button onclick="adicionarVideo()">Adicionar Vídeo Exemplo</button>
  <div id="output"></div>
  <script src="https://unpkg.com/react@18/umd/react.development.js"></script>
  <script src="https://unpkg.com/react-dom@18/umd/react-dom.development.js"></script>
  <!-- Seu código React aqui (igual ao que você já tem) -->
  // Substitua pelos seus dados do Google Cloud
  const CLIENT_ID = 'SUA_CLIENT_ID.apps.googleusercontent.com';
  const API_KEY = 'SUA_API_KEY';
  const DISCOVERY_DOCS = [
  "https://sheets.googleapis.com/$discovery/rest?version=v4"
];
const SCOPES = "https://www.googleapis.com/auth/spreadsheets";

// ID da sua planilha (pegue na URL do Google Sheets)
const SPREADSHEET_ID = 'SEU_SPREADSHEET_ID';

// Inicializa a API Google quando a página carrega
window.onload = function() {
  gapi.load('client:auth2', initClient);
};

function initClient() {
  gapi.client.init({
    apiKey: API_KEY,
    clientId: CLIENT_ID,
    discoveryDocs: DISCOVERY_DOCS,
    scope: SCOPES
  }).then(() => {
    // Atualize a interface conforme o login
    updateSigninStatus(gapi.auth2.getAuthInstance().isSignedIn.get());
    gapi.auth2.getAuthInstance().isSignedIn.listen(updateSigninStatus);
  });
}

function updateSigninStatus(isSignedIn) {
  if (isSignedIn) {
    document.getElementById('output').innerText = 'Logado!';
  } else {
    document.getElementById('output').innerText = 'Deslogado!';
  }
}

function handleSignInClick() {
  gapi.auth2.getAuthInstance().signIn();
}

function handleSignOutClick() {
  gapi.auth2.getAuthInstance().signOut();
}

// Função para listar vídeos (ler da planilha)
function listarVideos() {
  gapi.client.sheets.spreadsheets.values.get({
    spreadsheetId: SPREADSHEET_ID,
    range: "A:B"
  }).then(response => {
    const rows = response.result.values;
    if (rows.length) {
      document.getElementById('output').innerText = rows.map(r => r.join(' | ')).join('\\n');
    } else {
      document.getElementById('output').innerText = 'Nenhum vídeo encontrado.';
    }
  });
}

// Função para adicionar vídeo (escrever na planilha)
function adicionarVideo() {
  const titulo = prompt('Título do vídeo:');
  const link = prompt('Link do vídeo:');
  if (!titulo || !link) return;
  gapi.client.sheets.spreadsheets.values.append({
    spreadsheetId: SPREADSHEET_ID,
    range: "A:B",
    valueInputOption: "RAW",
    insertDataOption: "INSERT_ROWS",
    resource: {
      values: [[titulo, link]]
    }
  }).then(response => {
    alert('Vídeo adicionado!');
    listarVideos();
  });
}
  
  <!-- ... -->
  <!-- CÓDIGO DE INTEGRAÇÃO COM GOOGLE SHEETS ABAIXO -->
  <script>
    // Veja a próxima seção!
  </script>
</body>
</html>
